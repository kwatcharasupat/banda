model:
  spectrogram:
    n_fft: 2048
    hop_length: 512
    win_length: 2048
    window: hann
  normalization:
    eps: 1.0e-06
    dbrms_threshold: -60
  stems:
  - vocals
  - drums
  - bass
  - other
data:
  train:
    datasource:
    - cls: MUSDB18HQDatasource
      params:
        split: train
    dataset:
      cls: RandomChunkDataset
      params:
        n_channels: 2
        fs: 44100
        chunk_size_seconds: 6.0
        allow_autolooping: true
        max_dataset_size: 8192
        premix_augmentation:
          augmentations:
          - cls: Gain
            params:
              min_gain_db: -6
              max_gain_db: 6.0
              p: 0.5
          - cls: Shift
            params:
              min_shift: -0.5
              max_shift: 0.5
              shift_unit: fraction
              rollover: true
              p: 0.5
          - cls: PolarityInversion
            params:
              p: 0.5
    dataloader:
      batch_size: 16
      num_workers: 16
      shuffle: true
      drop_last: false
      pin_memory: true
  val:
    datasource:
    - cls: MUSDB18HQDatasource
      params:
        split: val
        load_duration: true
    dataset:
      cls: DeterministicChunkDataset
      params:
        n_channels: 2
        fs: 44100
        chunk_size_seconds: 6.0
        hop_size_seconds: 6.0
        allow_autolooping: false
        max_dataset_size: 1024
    dataloader:
      batch_size: 4
      num_workers: 16
      shuffle: false
      drop_last: false
      pin_memory: true
  test:
    datasource:
    - cls: MUSDB18HQDatasource
      params:
        split: test
    dataset:
      cls: FullTrackDataset
      params:
        n_channels: 2
        fs: 44100
        allow_autolooping: false
    dataloader:
      batch_size: 32
      num_workers: 4
      shuffle: true
      drop_last: false
      pin_memory: true
logger: {}
loss:
  losses:
  - cls: L1SNRLoss
    weight: 1.0
    params:
      domain: time
      eps: 0.001
  - cls: L1SNRLoss
    weight: 1.0
    params:
      domain: spectrogram
      eps: 0.001
optimizer:
  optimizer:
    cls: Adam
    params:
      init_lr: 0.0001
seed: 42
